<?xml version="1.0" encoding="UTF-8"?>
<tosca:Definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:elasticity="http://www.example.org/NewXMLSchema" xmlns:sybl="http://www.example.org/SYBL" xmlns:tosca="http://docs.oasis-open.org/tosca/ns/2011/12" id="hi">
  <tosca:ServiceTemplate xsi:type="elasticity:TServiceTemplateExtension" id="hello" name="SCAN" height="376" width="476" x="5" y="5">
    <tosca:BoundaryDefinitions xsi:type="elasticity:TBoundaryDefinitionsExtension">
      <tosca:Policies>
        <tosca:Policy name="CONSTRAINT gatk_ir_queueLength &amp;lt;1" policyRef="C1318602696"  policyType="sybl:Constraint"/>
        <tosca:Policy name="CONSTRAINT gatk_rtc_queueLength &amp;lt;1" policyRef="C1318602698"  policyType="sybl:Constraint"/>
	  </tosca:Policies>
      <tosca:Properties>
        <elasticity:ServiceProperties>
          <elasticity:Version>1.0</elasticity:Version>
        </elasticity:ServiceProperties>
      </tosca:Properties>
    </tosca:BoundaryDefinitions>
    <tosca:TopologyTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C1318602695" maxInstances="1" minInstances="1" name="scheduler" x="5" y="25">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:2 ram:2048 disk:20</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="schedulerBase" artifactType="elasticity:ImageArtifactPropertiesType" name="278b0f33-cc19-42e0-80b2-fd59358aa2a6"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C1777201799" maxInstances="10" minInstances="1" name="gatk_ir" x="155" y="25">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:4 ram:512 disk:5</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:Policies>
          <tosca:Policy name="STRATEGY scaleIn (gatk_ir)" policyRef="C2027695010" policyType="sybl:Strategy"/>
          <tosca:Policy name="STRATEGY scaleOut (gatk_ir)" policyRef="C2027695011" policyType="sybl:Strategy"/>
    	    <tosca:Policy name="STRATEGY CASE workerUtilisation &amp;lt;1 AND instances &amp;gt;1: minimize(cost)" policyRef="C1318602697"  policyType="sybl:Strategy"/>
        </tosca:Policies>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="fe31fced-a3cf-49c6-b43b-f58f5235ba45" artifactType="elasticity:ImageArtifactPropertiesType" name="fe31fced-a3cf-49c6-b43b-f58f5235ba45"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C192380548" maxInstances="10" minInstances="1" name="gatk_rtc" x="305" y="25">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:2 ram:8192 disk:20</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:Policies>
          <tosca:Policy name="STRATEGY scaleIn (gatk_rtc)" policyRef="C12042931700" policyType="sybl:Strategy"/>
          <tosca:Policy name="STRATEGY scaleOut (gatk_rtc)" policyRef="C12042931701" policyType="sybl:Strategy"/>
          <tosca:Policy name="STRATEGY CASE workerUtilisation &amp;lt;1 AND instances &amp;gt;1: minimize(cost)" policyRef="C1318602699"  policyType="sybl:Strategy"/>
        </tosca:Policies>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="fe31fced-a3cf-49c6-b43b-f58f5235ba45" artifactType="elasticity:ImageArtifactPropertiesType" name="fe31fced-a3cf-49c6-b43b-f58f5235ba45"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C608448969" maxInstances="1" minInstances="1" name="dummyClient" x="305" y="195">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:2 ram:2048 disk:20</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="fe31fced-a3cf-49c6-b43b-f58f5235ba45" artifactType="elasticity:ImageArtifactPropertiesType" name="fe31fced-a3cf-49c6-b43b-f58f5235ba45"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C1623901593" maxInstances="1" minInstances="1" name="cassandraSeedNode" x="5" y="195">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:2 ram:2048 disk:20</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="Ubuntu12.04.1LTS" artifactType="elasticity:ImageArtifactPropertiesType" name="Ubuntu 12.04.1 LTS"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
      <tosca:NodeTemplate xsi:type="elasticity:TNodeTemplateExtension" id="C1840586658" maxInstances="1" minInstances="1" name="cassandraNode" x="155" y="195">
        <tosca:Properties>
          <elasticity:NodeProperties>
            <elasticity:Flavor>vcpus:2 ram:2048 disk:20</elasticity:Flavor>
          </elasticity:NodeProperties>
        </tosca:Properties>
        <tosca:DeploymentArtifacts>
          <tosca:DeploymentArtifact artifactRef="Ubuntu12.04.1LTS" artifactType="elasticity:ImageArtifactPropertiesType" name="Ubuntu 12.04.1 LTS"/>
        </tosca:DeploymentArtifacts>
      </tosca:NodeTemplate>
    </tosca:TopologyTemplate>
  </tosca:ServiceTemplate>
  <tosca:ArtifactTemplate id="Ubuntu12.04.1LTS">
    <tosca:Properties>
      <elasticity:ImageArtifactProperties>
        <elasticity:Description>not_specified</elasticity:Description>
        <elasticity:Id>Ubuntu12.04.1LTS</elasticity:Id>
      </elasticity:ImageArtifactProperties>
    </tosca:Properties>
  </tosca:ArtifactTemplate>
  <tosca:ArtifactTemplate id="cassandraNode.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDcassandraNode.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/cassandraNode.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="cassandraNode">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="cassandraNode.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="cassandraSeedNode.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDcassandraSeedNode.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/cassandraSeedNode.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="cassandraSeedNode">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="cassandraSeedNode.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="dummyClient.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDdummyClient.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/dummyClient.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="dummyClient">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="dummyClient.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="gatk_ir.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDgatk_ir.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/gatk_ir.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="gatk_ir">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="gatk_ir.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
      <tosca:ImplementationArtifact artifactRef="add" artifactType="ScriptArtifact" interfaceName="Lifecycle" operationName="STRATEGY scaleOut (gatk_ir)"/>
      <tosca:ImplementationArtifact artifactRef="remove" artifactType="ScriptArtifact" interfaceName="Lifecycle" operationName="STRATEGY scaleIn (gatk_ir)"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="gatk_rtc.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDgatk_rtc.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/gatk_rtc.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="gatk_rtc">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="gatk_rtc.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
      <tosca:ImplementationArtifact artifactRef="remove" artifactType="ScriptArtifact" interfaceName="Lifecycle" operationName="STRATEGY scaleIn (gatk_rtc)"/>
      <tosca:ImplementationArtifact artifactRef="add" artifactType="ScriptArtifact" interfaceName="Lifecycle" operationName="STRATEGY scaleOut (gatk_rtc)"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="scheduler.sh" type="elasticity:ScriptArtifactPropertiesType" name="SDscheduler.sh">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/scheduler.sh"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:NodeTypeImplementation name="name" nodeType="scheduler">
    <tosca:ImplementationArtifacts>
      <tosca:ImplementationArtifact artifactRef="scheduler.sh" artifactType="elasticity:ScriptArtifactPropertiesType" interfaceName="Lifecycle" operationName="execute"/>
    </tosca:ImplementationArtifacts>
  </tosca:NodeTypeImplementation>
  <tosca:ArtifactTemplate id="remove" type="RA" name="SDremove">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/remove"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:ArtifactTemplate id="add" type="RA" name="SDadd">
    <tosca:Properties>
      <elasticity:ScriptArtifactProperties>
        <elasticity:Language>Shell</elasticity:Language>
      </elasticity:ScriptArtifactProperties>
    </tosca:Properties>
    <tosca:ArtifactReferences>
      <tosca:ArtifactReference reference="Scripts/add"/>
    </tosca:ArtifactReferences>
  </tosca:ArtifactTemplate>
  <tosca:PolicyTemplate id="C1318602696" type="sybl:Strategy"/>
  <tosca:PolicyTemplate id="C1318602697" type="sybl:Strategy"/>
  <tosca:PolicyTemplate id="C1318602698" type="sybl:Strategy"/>
  <tosca:PolicyTemplate id="C1318602699" type="sybl:Strategy"/>
</tosca:Definitions>