<div class="container">

	<h3>Managed services</h3>
	<div>&nbsp;</div>
	<h4>Overview</h4>

	<table class="table table-hover">
		<thead>
			<tr>
				<th>#</th>
				<th>ID</th>
				<th>Name</th>
				<th colspan="2">Structure</th>
				<th colspan="3">Monitoring</th>
				<th colspan="2">Control</th>
				<th colspan="2">Recording</th>
			</tr>
		</thead>
		<tbody data-bind="foreach: services">
			<tr data-bind="css: {active : $parent.selectedServiceId() == id()}">
				<td data-bind="text: ($index() + 1)"></td>
				<td data-bind="text: id, click: function() { $parent.assignSelected(id()) }" data-toggle="tooltip"
					title="Click for details"></td>
				<td data-bind="text: name, click: function() { $parent.assignSelected(id()) }" data-toggle="tooltip"
					title="Click for details"></td>

				<td><button type="button" class="btn btn-default"
						data-bind="click: $parent.deployment, text: deployment() ? 'On' : 'Off',  css: { active: deployment()}"></button></td>
				<td></td>

				<td><button type="button" class="btn btn-default"
						data-bind="click: $parent.switchMonitoring, text: monitoring() ? 'On' : 'Off',  css: { active: monitoring()}"></button></td>
				<td><button type="button" class="btn btn-default" data-bind="click: function() { $parent.getMcr(id()) }" data-toggle="modal" data-target="#myModal">MCR</button></td>
				<td></td>

				<td><button type="button" class="btn btn-default"
						data-bind="click: $parent.switchControl, text: control() ? 'On' : 'Off',  css: { active: control()}"></button></td>
				<td></td>
				<td><button type="button" class="btn btn-default"
						data-bind="click: $parent.switchRecording, text: recording() ? 'On' : 'Off',  css: { active: recording()}"></button></td>
				<td></td>
			</tr>
		</tbody>
	</table>

	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">
						<span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
					</button>
					<h4 class="modal-title" id="myModalLabel">Metric composition rules</h4>
				</div>
				<div class="modal-body">
					<textarea class="form-control" data-bind="value: mcr()"  rows="10" data-bind="value: mcr"></textarea>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>
			</div>
		</div>
	</div>


	<h4>
		Details: <span data-bind="text: selectedServiceId()"></span>
	</h4>
<!-- /.container -->
	<div role="tabpanel">
		<!-- Nav tabs -->
		<ul class="nav nav-tabs" role="tablist" data-bind="foreach: tabs">
			<li role="presentation" data-bind="css: { active: show }"><a role="tab" href="#" data-toggle="tab"
				data-bind="text: name, click : $parent.activateTab"></a></li>
		</ul>
		<!-- Tab panes  -->
		<div class="tab-content" data-bind="foreach: tabs">
			<div role="tabpanel" class="tab-pane" data-bind="css: { active: show }">
				<div>&nbsp;</div>
				<div data-bind="compose:module"></div>
			</div>
		</div>


	</div>

</div>